/*!
 * angular-incremental-list v0.1.0
 * https://github.com/tfoxy/angular-incremental-list
 *
 * Copyright 2015 TomÃ¡s Fox
 * Released under the MIT license
 */
!function(){"use strict";function t(){return{restrict:"A",priority:u,controller:o}}function e(){return{restrict:"A",require:["^ilList","ngModel"],link:function(t,e,i,n){var r=n[0],l=n[1],o=i.ilItemModel?t.$eval(i.ilItemModel):t;l.$viewChangeListeners.push(function(){r.listItemChanged(o)})}}}function i(){return{restrict:"A",require:"ilList",priority:u,link:function(t,e,i,n){n.createItem=function(t){return t.$eval(i.ilNewItem)}}}}function n(){return{restrict:"A",require:"ilList",priority:u,link:function(t,e,i,n){n.mustIncrement=function(t){return t.$eval(i.ilIncrementOn)}}}}function r(){return{restrict:"A",require:"ilList",priority:u,link:function(t,e,i,n){n.mustDecrement=function(t){return t.$eval(i.ilDecrementOn)}}}}function l(){return{restrict:"A",require:["^^ilList","ilList"],priority:u,link:function(t,e,i,n){var r=n[0],l=n[1];l.notifyParentList=function(t){var e=i.ilListModel?t.$eval(i.ilListModel):t.$parent;r.listItemChanged(e)}}}}function o(t,e){function i(t){if(angular.isUndefined(t)||null===t)throw new Error("Scope does not exists. Got: "+t);var e=t.$index;if("number"!=typeof e)throw new Error("scope.$index is not a number. Got: "+e);var i=s.list.length;e===i-1?n(t):e===i-2&&r(t),s.notifyParentList(t)}function n(t){s.mustIncrement(t)?s.list.push(s.createItem(t)):r(t)}function r(t){var e=t.$last?t.$$prevSibling:t.$$nextSibling;s.mustDecrement(t)&&s.mustDecrement(e)&&(t.$last||s.list.pop(),l(t.$$prevSibling))}function l(t){var e,i,n=t;for(e=i=s.list.length-2;e>=0&&s.mustDecrement(n);--e,n=n.$$prevSibling);s.list.splice(e+1,i-e)}function o(t){return!u(t)}function u(t){var e=s.list[t.$index];for(var i in e)if(Object.prototype.hasOwnProperty.call(e,i)&&"$$hashKey"!==i){var n=e[i];if(angular.isDefined(n)&&null!==n&&""!==n&&(!Array.isArray(n)||n.length>1))return!0}return!1}function c(){return{}}var s=this;s.createItem=c,s.list=t.$eval(e.ilList),s.listItemChanged=i,s.mustDecrement=o,s.mustIncrement=u,s.notifyParentList=angular.noop}var u=2e3;angular.module("incrementalList",[]).directive("ilList",t).directive("ilItemModel",e).directive("ilNewItem",i).directive("ilIncrementOn",n).directive("ilDecrementOn",r).directive("ilListModel",l),o.$inject=["$scope","$attrs"]}();