/*!
 * angular-incremental-list v0.1.1
 * https://github.com/tfoxy/angular-incremental-list
 *
 * Copyright 2015 TomÃ¡s Fox
 * Released under the MIT license
 */
!function(){"use strict";function t(){return{restrict:"A",priority:c,controller:o}}function e(){return{restrict:"A",require:"ilList",link:{pre:function(t,e,i,n){var r=t.$index;if("number"!=typeof r)throw new Error("scope.$index is not a number. Got: "+r);var l=n.list[r];Object.defineProperty(l,s,{configurable:!0,enumerable:!1,value:t}),t.$on("$destroy",function(){delete l[s]})}}}}function i(){return{restrict:"A",require:["^ilList","ngModel"],link:function(t,e,i,n){var r=n[0],l=n[1],u=i.ilItemModel?t.$eval(i.ilItemModel):t;l.$viewChangeListeners.push(function(){r.listItemChanged(u.$index)})}}}function n(){return{restrict:"A",require:"ilList",priority:c,link:function(t,e,i,n){n.createItem=function(t){return t.$eval(i.ilNewItem)}}}}function r(){return{restrict:"A",require:"ilList",priority:c,link:function(t,e,i,n){n.mustIncrement=function(t){return t.$eval(i.ilIncrementOn)}}}}function l(){return{restrict:"A",require:"ilList",priority:c,link:function(t,e,i,n){n.mustDecrement=function(t){return t.$eval(i.ilDecrementOn)}}}}function u(){return{restrict:"A",require:["^^ilList","ilList"],priority:c,link:function(t,e,i,n){var r=n[0],l=n[1];l.notifyParentList=function(t){var e=i.ilListModel?t.$eval(i.ilListModel):t.$parent;r.listItemChanged(e.$index)}}}}function o(t,e){function i(t){if("number"!=typeof t)throw new Error("scope.$index is not a number. Got: "+t);var e=d.list.length,i=n(t);t===e-1?u(i):t===e-2&&o(i),d.notifyParentList(i)}function n(t){return t>=d.list.length||0>t?null:d.list[t][s]}function r(t){return n(t.$index-1)}function l(t){return n(t.$index+1)}function u(t){d.mustIncrement(t)?d.list.push(d.createItem(t)):t.$first||o(t)}function o(t){var e=t.$last?r(t):l(t);d.mustDecrement(t)&&d.mustDecrement(e)&&(t.$last||d.list.pop(),c(r(t)))}function c(t){var e,i,n=t;for(e=i=d.list.length-2;e>=0&&d.mustDecrement(n);--e,n=r(n));d.list.splice(e+1,i-e)}function a(t){return!f(t)}function f(t){var e=d.list[t.$index];for(var i in e)if(Object.prototype.hasOwnProperty.call(e,i)&&"$$"!==i.slice(0,2)){var n=e[i];if(angular.isDefined(n)&&null!==n&&""!==n&&(!Array.isArray(n)||n.length>1))return!0}return!1}function m(){return{}}var d=this;d.createItem=m,d.list=t.$eval(e.ilList),d.listItemChanged=i,d.mustDecrement=a,d.mustIncrement=f,d.notifyParentList=angular.noop}var c=2e3,s="$$ilListScope";angular.module("incrementalList",[]).directive("ilList",t).directive("ilList",e).directive("ilItemModel",i).directive("ilNewItem",n).directive("ilIncrementOn",r).directive("ilDecrementOn",l).directive("ilListModel",u),o.$inject=["$scope","$attrs"]}();